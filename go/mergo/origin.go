// Based on src/pkg/reflect/deepequal.go from official
// golang's stdlib.